(this["webpackJsonptoken-royale"]=this["webpackJsonptoken-royale"]||[]).push([[0],{188:function(e,t,n){},190:function(e,t,n){},223:function(e,t){},224:function(e,t){},416:function(e,t){},418:function(e,t){},452:function(e,t,n){"use strict";n.r(t);var r=n(69),a=n.n(r),s=n(182),c=n.n(s),u=(n(188),n(183)),o=n(13),i=n(3),p=n.n(i),f=n.p+"static/media/logo.6ce24c58.svg",l=(n(190),n(50)),b=n.n(l),d=n(9),h=n.n(d),x=n(31),v=n.n(x),w=n(42),k=n.n(w),T=n(21);var g=function(){var e=function(){var e=Object(o.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!b.a.isConnected()){e.next=4;break}return e.abrupt("return",!0);case 4:return alert("You must install the Freighter Chrome extension! https://chrome.google.com/webstore/detail/freighter/bcacfldlkkdogcmkkibnjlakofdplcbk?hl=en"),e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(o.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",n="",e.prev=2,e.next=5,b.a.getPublicKey();case 5:t=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),n=e.t0;case 11:if(!n){e.next=14;break}return console.error(n),e.abrupt("return",!1);case 14:return e.abrupt("return",t);case 15:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}(),n=function(){var e=Object(o.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",n="",e.prev=2,e.next=5,b.a.getNetwork();case 5:t=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),n=e.t0;case 11:if(!n){e.next=14;break}return console.error(n),e.abrupt("return",!1);case 14:if("TESTNET"===t){e.next=17;break}return alert("You must use a testnet account!"),e.abrupt("return",!1);case 17:return e.abrupt("return",!0);case 18:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}(),r=function(){var e=Object(o.a)(p.a.mark((function e(t,n){var r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="",a="",e.prev=2,e.next=5,b.a.signTransaction(t,n);case 5:r=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),a=e.t0;case 11:if(!a){e.next=13;break}return e.abrupt("return",a);case 13:return e.abrupt("return",r);case 14:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,n){return e.apply(this,arguments)}}(),a=function(){var e=Object(o.a)(p.a.mark((function e(t,n,a){var s,c,u,o,i,f,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=new h.a.Server("https://horizon-testnet.stellar.org"),c={destination:n,asset:h.a.Asset.native(),amount:t},e.next=4,s.fetchBaseFee();case 4:return e.t0=e.sent,u={fee:e.t0,networkPassphrase:"Test SDF Network ; September 2015"},e.next=8,s.loadAccount(a);case 8:return o=e.sent,i=new h.a.TransactionBuilder(o,u).addOperation(h.a.Operation.payment(c)).setTimeout(v.a.TimeoutInfinite).build(),f=i.toEnvelope().toXDR("base64"),e.next=13,r(f,"TESTNET");case 13:return l=e.sent,e.abrupt("return",l);case 15:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),s=function(){var e=Object(o.a)(p.a.mark((function e(t,n,r){var a,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={txFunctionFee:t},e.next=3,k.a.post(n+"tx-fees/"+r,a);case 3:return s=e.sent,e.abrupt("return",s.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),c=function(){var e=Object(o.a)(p.a.mark((function e(t,n){var a,s,c,o,i,f,l,b,d,x;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Generating XDR Token..."),e.prev=1,a=new h.a.Account(n,"-1"),s=new h.a.Server("https://horizon-testnet.stellar.org"),e.next=6,s.fetchBaseFee();case 6:c=e.sent,o=new h.a.TransactionBuilder(a,{fee:c,networkPassphrase:h.a.Networks.TESTNET}),i=Object(u.a)(t);try{for(i.s();!(f=i.n()).done;)l=f.value,o.addOperation(h.a.Operation.manageData({name:"txFunctionHash",value:l}))}catch(p){i.e(p)}finally{i.f()}return b=o.setTimeout(86400).build(),d=b.toEnvelope().toXDR("base64"),e.next=14,r(d,"TESTNET");case 14:return x=e.sent,e.abrupt("return",x);case 18:e.prev=18,e.t0=e.catch(1),alert(e.t0);case 21:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(t,n){return e.apply(this,arguments)}}(),i=function(){var e=Object(o.a)(p.a.mark((function e(t,n,r,a){var s,c,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Running function..."),s={source:t},c={Authorization:"Bearer "+n},e.next=5,k.a.post(r+"tx-functions/"+a,s,{headers:c});case 5:return u=e.sent,e.abrupt("return",u.data);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),l=function(){var e=Object(o.a)(p.a.mark((function e(t,n,r){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Adding turret signature to transaction..."),(a=new h.a.Transaction(t,h.a.Networks.TESTNET)).addSignature(n,r),e.abrupt("return",a.toXDR());case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),d=function(){var e=Object(o.a)(p.a.mark((function e(t){var n,a,s,c,u,o,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Sending transaction..."),n="https://horizon-testnet.stellar.org",a=new h.a.Server(n),s=new h.a.Transaction(t,h.a.Networks.TESTNET),c=s.toEnvelope().toXDR("base64"),e.next=7,r(c,"TESTNET");case 7:return u=e.sent,o=h.a.TransactionBuilder.fromXDR(u,n),e.next=11,a.submitTransaction(o);case 11:return i=e.sent,e.abrupt("return",i);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var r=Object(o.a)(p.a.mark((function r(){var c,u,o,i,f;return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t();case 2:return c=r.sent,r.next=5,n();case 5:return u=r.sent,r.next=8,e();case 8:if(o=r.sent,!(c&&u&&o)){r.next=19;break}return r.next=12,a("10","GB4OYM7TQTJSROWXHOJLKAX2IJ2QN4I6S6GCJH4MGWVTAO5Q5DPNADXX",c);case 12:return i=r.sent,r.next=15,s(i,"https://stellar-turrets-testnet.sdf-ecosystem.workers.dev/",c);case 15:f=r.sent,alert("Your balance is now: "+f.balance),r.next=20;break;case 19:alert("Something went wrong: User must have Freighter extension and must be on TESTNET");case 20:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),w=function(){var r=Object(o.a)(p.a.mark((function r(){var a,s,u,o,f,b,h;return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t();case 2:return a=r.sent,r.next=5,n();case 5:return s=r.sent,r.next=8,e();case 8:if(u=r.sent,!(a&&s&&u)){r.next=27;break}return r.next=12,c(["9d64bd82134a1c141501dc16dca992446ecdc1812c1d75e8aab53443f879bf87"],a);case 12:return o=r.sent,r.next=15,i(a,o,"https://stellar-turrets-testnet.sdf-ecosystem.workers.dev/","9d64bd82134a1c141501dc16dca992446ecdc1812c1d75e8aab53443f879bf87");case 15:return f=r.sent,console.log(f),r.next=19,l(f.xdr,f.signer,f.signature);case 19:return b=r.sent,r.next=22,d(b);case 22:h=r.sent,console.log(h),!0===h.successful&&alert("You just got 100 XLM!"),r.next=28;break;case 27:alert("Something went wrong: User must have Freighter extension and must be on TESTNET");case 28:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return Object(T.jsx)("div",{className:"App",children:Object(T.jsxs)("header",{className:"App-header",children:[Object(T.jsx)("img",{src:f,className:"App-logo",alt:"logo"}),Object(T.jsx)("button",{onClick:x,children:"Top Up"}),Object(T.jsx)("button",{onClick:w,children:"Run Function"})]})})},m=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,453)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))};c.a.render(Object(T.jsx)(a.a.StrictMode,{children:Object(T.jsx)(g,{})}),document.getElementById("root")),m()}},[[452,1,2]]]);
//# sourceMappingURL=main.4f117882.chunk.js.map